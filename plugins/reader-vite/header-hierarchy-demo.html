<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Header Hierarchy Demo - GSD Reader</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f5f5f5;
      padding: 20px;
    }
    
    .demo-section {
      background: white;
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 32px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .demo-title {
      font-size: 18px;
      font-weight: 700;
      color: #1a1a2e;
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 2px solid #667eea;
    }
    
    .demo-description {
      font-size: 13px;
      color: #666;
      margin-bottom: 20px;
      padding: 12px;
      background: #f8f9fa;
      border-radius: 6px;
    }
    
    .log-entry-mock {
      border-left: 4px solid #e94560;
      padding: 16px;
      background: #fafafa;
      border-radius: 0 8px 8px 0;
    }
    
    .log-header-mock {
      font-size: 16px;
      font-weight: 600;
      color: #e94560;
      margin-bottom: 16px;
    }
    
    p { margin: 8px 0; font-size: 14px; }
    
    /* ========================================
       APPROACH A: Rainbow Left Borders (Desktop)
       Mobile: Collapse to colored underlines
       ======================================== */
    .approach-a h4 {
      font-size: 15px;
      font-weight: 600;
      color: #5a4a8a;
      margin: 20px 0 8px 0;
      padding: 8px 0 8px 16px;
      border-left: 4px solid #7c3aed;
      border-bottom: 2px solid #7c3aed;
      background: linear-gradient(90deg, rgba(124, 58, 237, 0.08) 0%, transparent 100%);
    }
    
    .approach-a h5 {
      font-size: 14px;
      font-weight: 600;
      color: #0d7377;
      margin: 16px 0 6px 20px;
      padding: 6px 0 6px 14px;
      border-left: 3px solid #14b8a6;
      border-bottom: 1px solid #14b8a6;
      background: linear-gradient(90deg, rgba(20, 184, 166, 0.08) 0%, transparent 100%);
    }
    
    .approach-a h6 {
      font-size: 13px;
      font-weight: 600;
      color: #92400e;
      margin: 12px 0 4px 40px;
      padding: 4px 0 4px 12px;
      border-left: 2px solid #f59e0b;
      border-bottom: 1px dashed #f59e0b;
      background: linear-gradient(90deg, rgba(245, 158, 11, 0.08) 0%, transparent 100%);
    }
    
    /* Approach A - Mobile: Remove indent, use full-width colored bars */
    @media (max-width: 600px) {
      .approach-a h4 {
        margin-left: 0;
        padding-left: 12px;
        border-left-width: 3px;
      }
      .approach-a h5 {
        margin-left: 0;
        padding-left: 12px;
        border-left-width: 3px;
        /* Add a small colored dot indicator for depth */
      }
      .approach-a h5::before {
        content: "‚Ä∫";
        color: #14b8a6;
        font-weight: bold;
        margin-right: 6px;
      }
      .approach-a h6 {
        margin-left: 0;
        padding-left: 12px;
        border-left-width: 3px;
      }
      .approach-a h6::before {
        content: "¬ª ";
        color: #f59e0b;
        font-weight: bold;
        margin-right: 4px;
      }
    }
    
    /* ========================================
       APPROACH B: Colored Top Border Bars
       Clean, minimal, works well on mobile
       ======================================== */
    .approach-b h4 {
      font-size: 15px;
      font-weight: 600;
      color: #333;
      margin: 24px 0 10px 0;
      padding: 10px 0 6px 0;
      border-top: 3px solid #7c3aed;
      position: relative;
    }
    .approach-b h4::after {
      content: "H4";
      position: absolute;
      right: 0;
      top: 10px;
      font-size: 9px;
      color: #7c3aed;
      background: rgba(124, 58, 237, 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 500;
    }
    
    .approach-b h5 {
      font-size: 14px;
      font-weight: 600;
      color: #333;
      margin: 20px 0 8px 0;
      padding: 8px 0 4px 0;
      border-top: 2px solid #14b8a6;
      position: relative;
    }
    .approach-b h5::after {
      content: "H5";
      position: absolute;
      right: 0;
      top: 8px;
      font-size: 9px;
      color: #14b8a6;
      background: rgba(20, 184, 166, 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 500;
    }
    
    .approach-b h6 {
      font-size: 13px;
      font-weight: 600;
      color: #333;
      margin: 16px 0 6px 0;
      padding: 6px 0 4px 0;
      border-top: 2px dashed #f59e0b;
      position: relative;
    }
    .approach-b h6::after {
      content: "H6";
      position: absolute;
      right: 0;
      top: 6px;
      font-size: 9px;
      color: #f59e0b;
      background: rgba(245, 158, 11, 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 500;
    }
    
    /* ========================================
       APPROACH C: Pill Prefix (Like GitHub Issues)
       Level indicator as inline badge
       ======================================== */
    .approach-c h4,
    .approach-c h5,
    .approach-c h6 {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 20px 0 10px 0;
      padding-bottom: 6px;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .approach-c h4 {
      font-size: 15px;
      font-weight: 600;
      color: #333;
    }
    .approach-c h4::before {
      content: "¬ß4";
      font-size: 10px;
      font-weight: 700;
      color: white;
      background: #7c3aed;
      padding: 3px 8px;
      border-radius: 10px;
      flex-shrink: 0;
    }
    
    .approach-c h5 {
      font-size: 14px;
      font-weight: 600;
      color: #333;
    }
    .approach-c h5::before {
      content: "¬ß5";
      font-size: 10px;
      font-weight: 700;
      color: white;
      background: #14b8a6;
      padding: 3px 8px;
      border-radius: 10px;
      flex-shrink: 0;
    }
    
    .approach-c h6 {
      font-size: 13px;
      font-weight: 600;
      color: #333;
    }
    .approach-c h6::before {
      content: "¬ß6";
      font-size: 10px;
      font-weight: 700;
      color: white;
      background: #f59e0b;
      padding: 3px 8px;
      border-radius: 10px;
      flex-shrink: 0;
    }
    
    /* ========================================
       APPROACH D: Indent Rainbow (VS Code style)
       Vertical colored lines showing depth
       ======================================== */
    .approach-d {
      --rainbow-1: #7c3aed;
      --rainbow-2: #14b8a6;
      --rainbow-3: #f59e0b;
    }
    
    .approach-d h4 {
      font-size: 15px;
      font-weight: 600;
      color: #333;
      margin: 20px 0 8px 0;
      padding: 8px 12px;
      border-left: 3px solid var(--rainbow-1);
      background: rgba(124, 58, 237, 0.05);
      position: relative;
    }
    
    /* Content following H4 gets the same left border */
    .approach-d h4 + p,
    .approach-d h4 + ul {
      margin-left: 0;
      padding-left: 15px;
      border-left: 3px solid var(--rainbow-1);
    }
    
    .approach-d h5 {
      font-size: 14px;
      font-weight: 600;
      color: #333;
      margin: 16px 0 6px 15px;
      padding: 6px 12px;
      border-left: 3px solid var(--rainbow-2);
      background: rgba(20, 184, 166, 0.05);
      position: relative;
    }
    
    /* H5 also has the H4 rainbow on the left */
    .approach-d h5::before {
      content: "";
      position: absolute;
      left: -18px;
      top: 0;
      bottom: 0;
      width: 3px;
      background: var(--rainbow-1);
    }
    
    .approach-d h6 {
      font-size: 13px;
      font-weight: 600;
      color: #333;
      margin: 12px 0 4px 30px;
      padding: 4px 12px;
      border-left: 3px solid var(--rainbow-3);
      background: rgba(245, 158, 11, 0.05);
      position: relative;
    }
    
    /* H6 has H4 + H5 rainbows */
    .approach-d h6::before {
      content: "";
      position: absolute;
      left: -33px;
      top: 0;
      bottom: 0;
      width: 3px;
      background: var(--rainbow-1);
    }
    .approach-d h6::after {
      content: "";
      position: absolute;
      left: -18px;
      top: 0;
      bottom: 0;
      width: 3px;
      background: var(--rainbow-2);
    }
    
    /* Approach D - Mobile: Stack borders horizontally at top */
    @media (max-width: 600px) {
      .approach-d h4 {
        margin-left: 0;
        border-left: none;
        border-top: 3px solid var(--rainbow-1);
        padding-left: 8px;
      }
      .approach-d h4 + p { border-left: none; padding-left: 0; }
      
      .approach-d h5 {
        margin-left: 0;
        border-left: none;
        border-top: 3px solid;
        border-image: linear-gradient(90deg, var(--rainbow-1) 50%, var(--rainbow-2) 50%) 1;
        padding-left: 8px;
      }
      .approach-d h5::before { display: none; }
      
      .approach-d h6 {
        margin-left: 0;
        border-left: none;
        border-top: 3px solid;
        border-image: linear-gradient(90deg, var(--rainbow-1) 33%, var(--rainbow-2) 33%, var(--rainbow-2) 66%, var(--rainbow-3) 66%) 1;
        padding-left: 8px;
      }
      .approach-d h6::before, .approach-d h6::after { display: none; }
    }

    /* ========================================
       APPROACH E: Hybrid Simple (Recommended)
       Colored underline + subtle background
       Best balance of clarity and screen space
       ======================================== */
    .approach-e h4 {
      font-size: 15px;
      font-weight: 600;
      color: #5a4a8a;
      margin: 24px 0 10px 0;
      padding: 6px 0;
      border-bottom: 2px solid #7c3aed;
      background: linear-gradient(180deg, transparent 0%, rgba(124, 58, 237, 0.06) 100%);
    }
    
    .approach-e h5 {
      font-size: 14px;
      font-weight: 600;
      color: #0d7377;
      margin: 20px 0 8px 0;
      padding: 4px 0 4px 12px;
      border-bottom: 2px solid #14b8a6;
      border-left: 3px solid #14b8a6;
      background: linear-gradient(180deg, transparent 0%, rgba(20, 184, 166, 0.06) 100%);
    }
    
    .approach-e h6 {
      font-size: 13px;
      font-weight: 600;
      color: #92400e;
      margin: 16px 0 6px 0;
      padding: 4px 0 4px 12px;
      border-bottom: 1px dashed #f59e0b;
      border-left: 3px solid #f59e0b;
      background: linear-gradient(180deg, transparent 0%, rgba(245, 158, 11, 0.06) 100%);
    }
    
    /* Mobile: same styles, just slightly tighter spacing */
    @media (max-width: 600px) {
      .approach-e h4 { margin: 20px 0 8px 0; }
      .approach-e h5 { margin: 16px 0 6px 0; padding-left: 10px; }
      .approach-e h6 { margin: 12px 0 4px 0; padding-left: 10px; }
    }
    
    /* ========================================
       CURRENT (Baseline for comparison)
       ======================================== */
    .current h4 { font-size: 15px; margin: 12px 0 6px; color: #555; }
    .current h5 { font-size: 13px; margin: 10px 0 4px; color: #666; }
    .current h6 { font-size: 12px; margin: 8px 0 4px; color: #777; }
    
    /* Viewport indicator */
    .viewport-indicator {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: #1a1a2e;
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <h1 style="font-size: 24px; margin-bottom: 8px; color: #1a1a2e;">Header Hierarchy Enhancement Demo</h1>
  <p style="margin-bottom: 24px; color: #666;">Resize window to see mobile vs desktop behavior. Each approach shows H4 ‚Üí H5 ‚Üí H6 nesting.</p>
  
  <!-- CURRENT BASELINE -->
  <div class="demo-section">
    <div class="demo-title">‚ùå CURRENT (Baseline)</div>
    <div class="demo-description">
      The problem: H5 looks like body text, H6 is nearly invisible. No visual hierarchy cue.
    </div>
    <div class="log-entry-mock current">
      <div class="log-header-mock">[LOG-047] - Implementation Details</div>
      <h4>The Architecture Decision</h4>
      <p>We chose to implement a custom parser because unified-markdown was too heavy.</p>
      <h5>Why Not Use Unified?</h5>
      <p>The bundle size was 150KB and we only needed basic markdown features.</p>
      <h6>Performance Considerations</h6>
      <p>Our custom parser handles 10k lines in under 50ms.</p>
      <p>This paragraph follows H6 - can you tell where the header ended?</p>
    </div>
  </div>
  
  <!-- APPROACH A -->
  <div class="demo-section">
    <div class="demo-title">A: Rainbow Left Borders</div>
    <div class="demo-description">
      <strong>Desktop:</strong> Indented left borders like Indent Rainbow<br>
      <strong>Mobile:</strong> Flat borders + chevron prefix (‚Ä∫ for H5, ¬ª for H6)
    </div>
    <div class="log-entry-mock approach-a">
      <div class="log-header-mock">[LOG-047] - Implementation Details</div>
      <h4>The Architecture Decision</h4>
      <p>We chose to implement a custom parser because unified-markdown was too heavy.</p>
      <h5>Why Not Use Unified?</h5>
      <p>The bundle size was 150KB and we only needed basic markdown features.</p>
      <h6>Performance Considerations</h6>
      <p>Our custom parser handles 10k lines in under 50ms.</p>
      <p>This paragraph follows H6 - can you tell where the header ended?</p>
    </div>
  </div>
  
  <!-- APPROACH B -->
  <div class="demo-section">
    <div class="demo-title">B: Colored Top Bars + Level Badge</div>
    <div class="demo-description">
      <strong>Desktop & Mobile:</strong> Same behavior. Top border + small "H4/H5/H6" badge on right.<br>
      No indentation = zero horizontal space cost.
    </div>
    <div class="log-entry-mock approach-b">
      <div class="log-header-mock">[LOG-047] - Implementation Details</div>
      <h4>The Architecture Decision</h4>
      <p>We chose to implement a custom parser because unified-markdown was too heavy.</p>
      <h5>Why Not Use Unified?</h5>
      <p>The bundle size was 150KB and we only needed basic markdown features.</p>
      <h6>Performance Considerations</h6>
      <p>Our custom parser handles 10k lines in under 50ms.</p>
      <p>This paragraph follows H6 - can you tell where the header ended?</p>
    </div>
  </div>
  
  <!-- APPROACH C -->
  <div class="demo-section">
    <div class="demo-title">C: Pill Prefix Badges</div>
    <div class="demo-description">
      <strong>Desktop & Mobile:</strong> Inline colored pill showing level (¬ß4, ¬ß5, ¬ß6).<br>
      Inspired by GitHub issue labels. Minimal space, clear hierarchy.
    </div>
    <div class="log-entry-mock approach-c">
      <div class="log-header-mock">[LOG-047] - Implementation Details</div>
      <h4>The Architecture Decision</h4>
      <p>We chose to implement a custom parser because unified-markdown was too heavy.</p>
      <h5>Why Not Use Unified?</h5>
      <p>The bundle size was 150KB and we only needed basic markdown features.</p>
      <h6>Performance Considerations</h6>
      <p>Our custom parser handles 10k lines in under 50ms.</p>
      <p>This paragraph follows H6 - can you tell where the header ended?</p>
    </div>
  </div>
  
  <!-- APPROACH D -->
  <div class="demo-section">
    <div class="demo-title">D: True Indent Rainbow (VS Code Style)</div>
    <div class="demo-description">
      <strong>Desktop:</strong> Stacked vertical colored lines showing full hierarchy depth.<br>
      <strong>Mobile:</strong> Gradient top border (purple|teal|gold segments).
    </div>
    <div class="log-entry-mock approach-d">
      <div class="log-header-mock">[LOG-047] - Implementation Details</div>
      <h4>The Architecture Decision</h4>
      <p>We chose to implement a custom parser because unified-markdown was too heavy.</p>
      <h5>Why Not Use Unified?</h5>
      <p>The bundle size was 150KB and we only needed basic markdown features.</p>
      <h6>Performance Considerations</h6>
      <p>Our custom parser handles 10k lines in under 50ms.</p>
      <p>This paragraph follows H6 - can you tell where the header ended?</p>
    </div>
  </div>
  
  <!-- APPROACH E (RECOMMENDED) -->
  <div class="demo-section" style="border: 2px solid #4CAF50;">
    <div class="demo-title">‚úÖ E: Hybrid Simple (Recommended)</div>
    <div class="demo-description">
      <strong>Best balance:</strong> Colored underline (clear boundary) + subtle background fade + left border for H5/H6.<br>
      <strong>Mobile:</strong> Same styling, just tighter spacing. No horizontal space lost.<br>
      <strong>Why:</strong> Underline = clear "header ends here". Color = hierarchy. Left border = depth cue without heavy indent.
    </div>
    <div class="log-entry-mock approach-e">
      <div class="log-header-mock">[LOG-047] - Implementation Details</div>
      <h4>The Architecture Decision</h4>
      <p>We chose to implement a custom parser because unified-markdown was too heavy.</p>
      <h5>Why Not Use Unified?</h5>
      <p>The bundle size was 150KB and we only needed basic markdown features.</p>
      <h6>Performance Considerations</h6>
      <p>Our custom parser handles 10k lines in under 50ms.</p>
      <p>This paragraph follows H6 - can you tell where the header ended?</p>
    </div>
  </div>
  
  <div class="viewport-indicator" id="viewport">
    Desktop
  </div>
  
  <script>
    function updateViewport() {
      const indicator = document.getElementById('viewport');
      indicator.textContent = window.innerWidth < 600 ? 'üì± Mobile' : 'üñ•Ô∏è Desktop';
    }
    window.addEventListener('resize', updateViewport);
    updateViewport();
  </script>
</body>
</html>